import{_ as w,b as c,c as _,a as o,t as u,e as n,w as p,f as m,d as b,i as f,h as a,v as i,o as v}from"./main.js";const h={name:"UserProfile",data(){return{form:{name:"",email:"",phone:""},passwordForm:{current_password:"",new_password:"",new_password_confirmation:""},loading:!1,passwordLoading:!1}},computed:{...c("auth",["user"])},methods:{async updateProfile(){this.loading=!0;try{const t=await this.$axios.put("/user/profile",this.form);this.$store.commit("auth/setUser",t.data.user),this.$toast.success("Profile updated successfully")}catch(t){console.error("Error updating profile:",t),this.$toast.error("Failed to update profile")}finally{this.loading=!1}},async updatePassword(){this.passwordLoading=!0;try{await this.$axios.put("/user/password",this.passwordForm),this.passwordForm={current_password:"",new_password:"",new_password_confirmation:""},this.$toast.success("Password updated successfully")}catch(t){console.error("Error updating password:",t),this.$toast.error("Failed to update password")}finally{this.passwordLoading=!1}}},created(){this.form={name:this.user.name,email:this.user.email,phone:this.user.phone||""}}},y={class:"container mt-4"},g={class:"row"},P={class:"col-md-3"},F={class:"card"},U={class:"card-body"},V={class:"card-title"},x={class:"card-text"},N={class:"list-group list-group-flush"},q={class:"col-md-9"},C={class:"card"},k={class:"card-body"},E={class:"mb-3"},L={class:"mb-3"},S={class:"mb-3"},B=["disabled"],D={class:"card mt-4"},M={class:"card-body"},T={class:"mb-3"},A={class:"mb-3"},I={class:"mb-3"},O=["disabled"];function j(t,s,z,G,e,d){const l=b("router-link");return v(),_("div",y,[o("div",g,[o("div",P,[o("div",F,[o("div",U,[o("h5",V,u(t.user.name),1),o("p",x,u(t.user.email),1)]),o("div",N,[n(l,{to:"/user/profile",class:"list-group-item list-group-item-action active"},{default:p(()=>s[8]||(s[8]=[m(" Profile ")])),_:1}),n(l,{to:"/user/orders",class:"list-group-item list-group-item-action"},{default:p(()=>s[9]||(s[9]=[m(" Orders ")])),_:1}),n(l,{to:"/user/addresses",class:"list-group-item list-group-item-action"},{default:p(()=>s[10]||(s[10]=[m(" Addresses ")])),_:1})])])]),o("div",q,[o("div",C,[s[14]||(s[14]=o("div",{class:"card-header"},"Profile Information",-1)),o("div",k,[o("form",{onSubmit:s[3]||(s[3]=f((...r)=>d.updateProfile&&d.updateProfile(...r),["prevent"]))},[o("div",E,[s[11]||(s[11]=o("label",{for:"name",class:"form-label"},"Name",-1)),a(o("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=r=>e.form.name=r),class:"form-control",required:""},null,512),[[i,e.form.name]])]),o("div",L,[s[12]||(s[12]=o("label",{for:"email",class:"form-label"},"Email",-1)),a(o("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=r=>e.form.email=r),class:"form-control",required:""},null,512),[[i,e.form.email]])]),o("div",S,[s[13]||(s[13]=o("label",{for:"phone",class:"form-label"},"Phone",-1)),a(o("input",{type:"tel",id:"phone","onUpdate:modelValue":s[2]||(s[2]=r=>e.form.phone=r),class:"form-control"},null,512),[[i,e.form.phone]])]),o("button",{type:"submit",class:"btn btn-primary",disabled:e.loading}," Update Profile ",8,B)],32)])]),o("div",D,[s[18]||(s[18]=o("div",{class:"card-header"},"Change Password",-1)),o("div",M,[o("form",{onSubmit:s[7]||(s[7]=f((...r)=>d.updatePassword&&d.updatePassword(...r),["prevent"]))},[o("div",T,[s[15]||(s[15]=o("label",{for:"current_password",class:"form-label"}," Current Password ",-1)),a(o("input",{type:"password",id:"current_password","onUpdate:modelValue":s[4]||(s[4]=r=>e.passwordForm.current_password=r),class:"form-control",required:""},null,512),[[i,e.passwordForm.current_password]])]),o("div",A,[s[16]||(s[16]=o("label",{for:"new_password",class:"form-label"}," New Password ",-1)),a(o("input",{type:"password",id:"new_password","onUpdate:modelValue":s[5]||(s[5]=r=>e.passwordForm.new_password=r),class:"form-control",required:""},null,512),[[i,e.passwordForm.new_password]])]),o("div",I,[s[17]||(s[17]=o("label",{for:"new_password_confirmation",class:"form-label"}," Confirm New Password ",-1)),a(o("input",{type:"password",id:"new_password_confirmation","onUpdate:modelValue":s[6]||(s[6]=r=>e.passwordForm.new_password_confirmation=r),class:"form-control",required:""},null,512),[[i,e.passwordForm.new_password_confirmation]])]),o("button",{type:"submit",class:"btn btn-primary",disabled:e.passwordLoading}," Update Password ",8,O)],32)])])])])])}const J=w(h,[["render",j]]);export{J as default};
