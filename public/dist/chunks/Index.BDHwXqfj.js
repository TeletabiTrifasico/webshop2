import{_ as l,c as s,a as e,t as i,F as _,e as u,r as p,o as t,f as h,b as m,w as f,d as g}from"../main.js";const v={name:"ProductIndex",data(){return{products:[],loading:!0,error:null}},methods:{formatPrice(o){return Number(o).toFixed(2)},async fetchProducts(){try{console.log("Fetching products...");const o=await this.$axios.get("/api/products");console.log("Products response:",o.data),this.products=o.data.products}catch(o){console.error("Error fetching products:",o),this.error="Failed to load products"}finally{this.loading=!1}}},created(){this.fetchProducts()}},y={class:"container mt-4"},b={key:0,class:"text-center"},x={key:1,class:"alert alert-danger"},k={key:2,class:"alert alert-info"},w={key:3,class:"row"},P={class:"card h-100"},N=["src","alt"],F={class:"card-body"},V={class:"card-title"},B={class:"card-text"},C={class:"card-footer bg-white border-top-0"};function I(o,a,D,E,c,n){const d=p("router-link");return t(),s("div",y,[a[2]||(a[2]=e("h1",{class:"mb-4"},"All Products",-1)),c.loading?(t(),s("div",b,a[0]||(a[0]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):c.error?(t(),s("div",x,i(c.error),1)):c.products.length===0?(t(),s("div",k," No products available. ")):(t(),s("div",w,[(t(!0),s(_,null,u(c.products,r=>(t(),s("div",{key:r.id,class:"col-md-3 mb-4"},[e("div",P,[r.image?(t(),s("img",{key:0,src:r.image,class:"card-img-top",alt:r.name,style:{height:"200px","object-fit":"cover"}},null,8,N)):h("",!0),e("div",F,[e("h5",V,i(r.name),1),e("p",B,"$"+i(n.formatPrice(r.price)),1)]),e("div",C,[m(d,{to:`/products/${r.id}`,class:"btn btn-primary w-100"},{default:f(()=>a[1]||(a[1]=[g(" View Details ")])),_:2},1032,["to"])])])]))),128))]))])}const j=l(v,[["render",I],["__scopeId","data-v-5af757f0"]]);export{j as default};
