import{_ as m,c as r,a as t,b as c,w as u,d as p,r as _,t as n,F as h,e as g,o as a}from"../main.js";const b={name:"Home",data(){return{latestProducts:[],loading:!0,error:null}},methods:{async fetchLatestProducts(){var i,s;try{console.log("Fetching latest products...");const e=await this.$axios.get("/api/products/latest");if(console.log("API Response:",e.data),e.data.success)this.latestProducts=e.data.products,this.error=null;else throw new Error(e.data.message||"Failed to load products")}catch(e){console.error("Error details:",e),this.error=((s=(i=e.response)==null?void 0:i.data)==null?void 0:s.message)||e.message}finally{this.loading=!1}}},created(){this.fetchLatestProducts()}},f={class:"container mt-4"},v={class:"jumbotron text-center mb-5 bg-light p-5 rounded"},x={class:"latest-products"},y={key:0,class:"text-center"},w={key:1,class:"alert alert-danger"},k={key:2,class:"row"},P={class:"card h-100 shadow-sm"},L=["src","alt"],V={class:"card-body"},F={class:"card-title"},A={class:"card-text text-truncate"},B={class:"card-text"},D={class:"card-footer bg-white border-top-0"};function E(i,s,e,N,l,$){const d=_("router-link");return a(),r("div",f,[t("div",v,[s[1]||(s[1]=t("h1",{class:"display-4"},"Welcome to the Webshop",-1)),s[2]||(s[2]=t("p",{class:"lead"},"Discover our exclusive collection of items",-1)),c(d,{to:"/products",class:"btn btn-primary btn-lg"},{default:u(()=>s[0]||(s[0]=[p(" View All Products ")])),_:1})]),t("section",x,[s[5]||(s[5]=t("h2",{class:"text-center mb-4"},"Latest Arrivals",-1)),l.loading?(a(),r("div",y,s[3]||(s[3]=[t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):l.error?(a(),r("div",w,n(l.error),1)):(a(),r("div",k,[(a(!0),r(h,null,g(l.latestProducts,o=>(a(),r("div",{key:o.id,class:"col-md-3 mb-4"},[t("div",P,[t("img",{src:o.image,class:"card-img-top",alt:o.name,style:{height:"200px","object-fit":"cover"}},null,8,L),t("div",V,[t("h5",F,n(o.name),1),t("p",A,n(o.description),1),t("p",B,[t("strong",null,"$"+n(o.price),1)])]),t("div",D,[c(d,{to:`/products/${o.id}`,class:"btn btn-outline-primary w-100"},{default:u(()=>s[4]||(s[4]=[p(" View Details ")])),_:2},1032,["to"])])])]))),128))]))])])}const C=m(b,[["render",E]]);export{C as default};
